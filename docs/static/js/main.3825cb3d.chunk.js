(this.webpackJsonppresupuestoapp=this.webpackJsonppresupuestoapp||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(7),o=a.n(s),c=(a(14),a(1)),u=a(5),l=a(2),p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(n.useState)(e),a=Object(c.a)(t,2),r=a[0],s=a[1],o=function(){s(e)},p=function(e){var t=e.target;s(Object(l.a)(Object(l.a)({},r),{},Object(u.a)({},t.name,t.value)))};return[r,p,o]},i=Object(n.createContext)(null),m=function(){var e=p({presupuestoInicial:""}),t=Object(c.a)(e,3),a=t[0].presupuestoInicial,s=t[1],o=t[2],u=Object(n.useContext)(i).setPresupuesto,l=Object(n.useState)(!1),m=Object(c.a)(l,2),b=m[0],d=m[1];return r.a.createElement("div",{className:"card"},r.a.createElement("h2",null,"Coloca tu presupuesto"),b&&r.a.createElement("p",{className:"warning"},"el presupuesto es incorrecto"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),a.length<=1||parseInt(a)<=0?d(!0):(u({presupuestoInicial:a,presupuestoRestante:a,inicio:!1}),o())}},r.a.createElement("input",{type:"number",placeholder:"Coloca tu Presupuesto",name:"presupuestoInicial",value:a,onChange:s}),r.a.createElement("button",{type:"submit"},"definir presupuesto")))},b=function(){var e=Object(n.useContext)(i),t=e.gastos,a=e.presupuesto,s=a.presupuestoRestante,o=a.presupuestoInicial;return r.a.createElement("div",null,r.a.createElement("h2",null,"Listado"),t.map((function(e){var t=e.nombre,a=e.cantidad,n=e.key;return r.a.createElement("div",{className:"gastos",key:n},r.a.createElement("div",{className:"gasto"},r.a.createElement("p",{className:"gasto-nombre"},t),r.a.createElement("p",{className:"gasto-cantidad"},"$",a)))})),r.a.createElement("div",{className:"contador presupuesto"},r.a.createElement("p",null,"Presupuesto: $",o)),r.a.createElement("div",{className:"".concat(s>.4*o?"contador green":s<=.2*o?"contador red":"contador yellow")},r.a.createElement("p",null,"Restante: $",s)))},d=a(8),E=function(){var e=Object(n.useContext)(i),t=e.presupuesto,a=e.setPresupuesto,s=e.setGastos,o=p({nombre:"",cantidad:""}),u=Object(c.a)(o,3),m=u[0],b=u[1],E=u[2],g=m.nombre,O=m.cantidad,f=Object(n.useState)(!1),v=Object(c.a)(f,2),j=v[0],h=v[1];return r.a.createElement("div",null,r.a.createElement("h2",null,"Agrega tus gastos aqu\xed"),j&&r.a.createElement("p",{className:"warning"},"todos los campos son obligatorios"),r.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),g<=1||O<=1)h(!0);else{s((function(e){return[].concat(Object(d.a)(e),[Object(l.a)(Object(l.a)({},m),{},{key:(new Date).getTime()})])}));var n=parseInt(t.presupuestoRestante)-parseInt(O);a(Object(l.a)(Object(l.a)({},t),{},{presupuestoRestante:n})),E()}}},r.a.createElement("p",null,"Nombre Gasto"),r.a.createElement("input",{type:"text",placeholder:"Ej. Ir a comer",name:"nombre",value:g,onChange:b}),r.a.createElement("p",null,"Cantidad Gasto"),r.a.createElement("input",{type:"number",placeholder:"0",name:"cantidad",value:O,onChange:b}),r.a.createElement("button",{type:"submit"},"agregar gasto")))};var g=function(){var e=JSON.parse(localStorage.getItem("gastos"))||[],t=JSON.parse(localStorage.getItem("presupuesto"))||{inicio:!0},a=Object(n.useState)(e),s=Object(c.a)(a,2),o=s[0],u=s[1],l=Object(n.useState)(t),p=Object(c.a)(l,2),d=p[0],g=p[1],O=d.inicio;return Object(n.useEffect)((function(){localStorage.setItem("gastos",JSON.stringify(o)),localStorage.setItem("presupuesto",JSON.stringify(d))}),[o,d]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Gasto Semanas"),r.a.createElement(i.Provider,{value:{presupuesto:d,setPresupuesto:g,gastos:o,setGastos:u}},O?r.a.createElement(m,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card presupuesto"},r.a.createElement(E,null),r.a.createElement(b,null)),r.a.createElement("button",{className:"btn",onClick:function(){localStorage.clear(),window.location.href=window.location.href}},"Nuevo Presupuesto"))))};o.a.render(r.a.createElement(g,null),document.getElementById("root"))},9:function(e,t,a){e.exports=a(15)}},[[9,1,2]]]);
//# sourceMappingURL=main.3825cb3d.chunk.js.map